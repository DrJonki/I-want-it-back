<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>thor::MultiResourceCache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="Doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="thor.png"/></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>thor</b></li><li class="navelem"><a class="el" href="classthor_1_1_multi_resource_cache.html">MultiResourceCache</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classthor_1_1_multi_resource_cache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">thor::MultiResourceCache Class Reference<div class="ingroups"><a class="el" href="group___resources.html">Resources</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to manage resources of different types uniformly.  
 <a href="classthor_1_1_multi_resource_cache.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa62233b2fc5075bdfef9bcbba7292a2b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthor_1_1_multi_resource_cache.html#aa62233b2fc5075bdfef9bcbba7292a2b">MultiResourceCache</a> ()</td></tr>
<tr class="memdesc:aa62233b2fc5075bdfef9bcbba7292a2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#aa62233b2fc5075bdfef9bcbba7292a2b">More...</a><br/></td></tr>
<tr class="separator:aa62233b2fc5075bdfef9bcbba7292a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1677540f6abcb0893db52e1825cdf46"><td class="memTemplParams" colspan="2">template&lt;class R &gt; </td></tr>
<tr class="memitem:ad1677540f6abcb0893db52e1825cdf46"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; R &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classthor_1_1_multi_resource_cache.html#ad1677540f6abcb0893db52e1825cdf46">search</a> (const <a class="el" href="classthor_1_1_resource_key.html">ResourceKey</a>&lt; R &gt; &amp;key)</td></tr>
<tr class="memdesc:ad1677540f6abcb0893db52e1825cdf46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for an occurrence of <em>key</em> and returns the mapped resource, if possible.  <a href="#ad1677540f6abcb0893db52e1825cdf46">More...</a><br/></td></tr>
<tr class="separator:ad1677540f6abcb0893db52e1825cdf46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d723125ffd17a74a92a37cfe7ed9b0"><td class="memTemplParams" colspan="2">template&lt;class R &gt; </td></tr>
<tr class="memitem:a05d723125ffd17a74a92a37cfe7ed9b0"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; const R &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classthor_1_1_multi_resource_cache.html#a05d723125ffd17a74a92a37cfe7ed9b0">search</a> (const <a class="el" href="classthor_1_1_resource_key.html">ResourceKey</a>&lt; R &gt; &amp;key) const </td></tr>
<tr class="memdesc:a05d723125ffd17a74a92a37cfe7ed9b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for an occurrence of <em>key</em> and returns the mapped resource, if possible (const overload).  <a href="#a05d723125ffd17a74a92a37cfe7ed9b0">More...</a><br/></td></tr>
<tr class="separator:a05d723125ffd17a74a92a37cfe7ed9b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a533a79c54e87b6be274486097e550122"><td class="memTemplParams" colspan="2">template&lt;class R &gt; </td></tr>
<tr class="memitem:a533a79c54e87b6be274486097e550122"><td class="memTemplItemLeft" align="right" valign="top">std::shared_ptr&lt; R &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classthor_1_1_multi_resource_cache.html#a533a79c54e87b6be274486097e550122">acquire</a> (const <a class="el" href="classthor_1_1_resource_key.html">ResourceKey</a>&lt; R &gt; &amp;key)</td></tr>
<tr class="separator:a533a79c54e87b6be274486097e550122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ef18b12739b3255d1154e3eff041894"><td class="memTemplParams" colspan="2">template&lt;class R &gt; </td></tr>
<tr class="memitem:a0ef18b12739b3255d1154e3eff041894"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classthor_1_1_multi_resource_cache.html#a0ef18b12739b3255d1154e3eff041894">release</a> (const <a class="el" href="classthor_1_1_resource_key.html">ResourceKey</a>&lt; R &gt; &amp;key)</td></tr>
<tr class="memdesc:a0ef18b12739b3255d1154e3eff041894"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases the resource as soon as possible.  <a href="#a0ef18b12739b3255d1154e3eff041894">More...</a><br/></td></tr>
<tr class="separator:a0ef18b12739b3255d1154e3eff041894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51fedd3c9a869d41b8db21e9dd18e55d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthor_1_1_multi_resource_cache.html#a51fedd3c9a869d41b8db21e9dd18e55d">setLoadingFailureStrategy</a> (<a class="el" href="namespacethor_1_1_resources.html#acb865b349dcabe48aca3d79865f60ceb">Resources::LoadingFailureStrategy</a> strategy)</td></tr>
<tr class="memdesc:a51fedd3c9a869d41b8db21e9dd18e55d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines how to react to resources that cannot be loaded.  <a href="#a51fedd3c9a869d41b8db21e9dd18e55d">More...</a><br/></td></tr>
<tr class="separator:a51fedd3c9a869d41b8db21e9dd18e55d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2037e21d28c57faa4dbcdedcc038403b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthor_1_1_multi_resource_cache.html#a2037e21d28c57faa4dbcdedcc038403b">setReleaseStrategy</a> (<a class="el" href="namespacethor_1_1_resources.html#a334125881e68c171d30e1c2467ebe0ea">Resources::ReleaseStrategy</a> strategy)</td></tr>
<tr class="memdesc:a2037e21d28c57faa4dbcdedcc038403b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether resources are automatically released or not.  <a href="#a2037e21d28c57faa4dbcdedcc038403b">More...</a><br/></td></tr>
<tr class="separator:a2037e21d28c57faa4dbcdedcc038403b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to manage resources of different types uniformly. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa62233b2fc5075bdfef9bcbba7292a2b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">thor::MultiResourceCache::MultiResourceCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p>Initially, the object owns no allocated resources. By default, the loading failure strategy <a class="el" href="namespacethor_1_1_resources.html#acb865b349dcabe48aca3d79865f60cebadd7a407aa2438f7244c3bbeaabc396d4" title="Throws an exception of type ResourceLoadingException.">Resources::ThrowException</a> and the release strategy <a class="el" href="namespacethor_1_1_resources.html#a334125881e68c171d30e1c2467ebe0eaae9a4ea15383503da1effa2841b2ca05e" title="Unused resources are kept in memory until they are explicitly released or the ResourceCache is destro...">Resources::ExplicitRelease</a> are used. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a533a79c54e87b6be274486097e550122"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class R &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;R&gt; thor::MultiResourceCache::acquire </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classthor_1_1_resource_key.html">ResourceKey</a>&lt; R &gt; &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the resource mapped to <em>key</em>, loading the resource if required. </p>

</div>
</div>
<a class="anchor" id="a0ef18b12739b3255d1154e3eff041894"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class R &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">bool thor::MultiResourceCache::release </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classthor_1_1_resource_key.html">ResourceKey</a>&lt; R &gt; &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases the resource as soon as possible. </p>
<p>If the resource is not in use (i.e. no std::shared_ptr references it), it is immediately released. Otherwise, it is released as soon as the last std::shared_ptr loses ownership. Calling this function has no effect when the <em>AutoRelease</em> strategy is active, since the resource is released ASAP anyway. </p>
<dl class="section pre"><dt>Precondition</dt><dd><em>key</em> must be a valid resource key (the corresponding resource must be stored inside this cache). To check for available resources, use <a class="el" href="classthor_1_1_resource_cache.html#a3156d9bad6b6da89913dface05c4978c" title="Searches for an occurrence of key and returns the mapped resource, if possible.">search()</a>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The resource identifier. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true, if the resource was immediately released; false, if it is in use. </dd></dl>

</div>
</div>
<a class="anchor" id="ad1677540f6abcb0893db52e1825cdf46"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class R &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;R&gt; thor::MultiResourceCache::search </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classthor_1_1_resource_key.html">ResourceKey</a>&lt; R &gt; &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for an occurrence of <em>key</em> and returns the mapped resource, if possible. </p>
<p>This function does never load a new resource. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The resource identifier to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The corresponding std::shared_ptr, if found, or <em>nullptr</em> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a05d723125ffd17a74a92a37cfe7ed9b0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class R &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;const R&gt; thor::MultiResourceCache::search </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classthor_1_1_resource_key.html">ResourceKey</a>&lt; R &gt; &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for an occurrence of <em>key</em> and returns the mapped resource, if possible (const overload). </p>
<p>This function does never load a new resource. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>The resource identifier to search for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The corresponding read-only std::shared_ptr, if found, or <em>nullptr</em> otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a51fedd3c9a869d41b8db21e9dd18e55d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thor::MultiResourceCache::setLoadingFailureStrategy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacethor_1_1_resources.html#acb865b349dcabe48aca3d79865f60ceb">Resources::LoadingFailureStrategy</a>&#160;</td>
          <td class="paramname"><em>strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines how to react to resources that cannot be loaded. </p>
<p>The strategy concerns all failing <a class="el" href="classthor_1_1_resource_cache.html#a5bd443e722dde82b957a279408e94083" title="Returns the resource mapped to key, loading the resource if required.">acquire()</a> calls. </p>

</div>
</div>
<a class="anchor" id="a2037e21d28c57faa4dbcdedcc038403b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void thor::MultiResourceCache::setReleaseStrategy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacethor_1_1_resources.html#a334125881e68c171d30e1c2467ebe0ea">Resources::ReleaseStrategy</a>&#160;</td>
          <td class="paramname"><em>strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines whether resources are automatically released or not. </p>
<p>This function sets the strategy for each resource that will be acquired in the future. Resources that have already been allocated are not concerned! This allows you to set the release behaviour specificially for each resource before you call <a class="el" href="classthor_1_1_resource_cache.html#a5bd443e722dde82b957a279408e94083" title="Returns the resource mapped to key, loading the resource if required.">acquire()</a>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Resources/<a class="el" href="_multi_resource_cache_8hpp_source.html">MultiResourceCache.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jul 12 2013 00:22:56 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
